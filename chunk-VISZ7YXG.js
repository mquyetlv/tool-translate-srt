import{a as an,b as J,c as ye,j as ln,k as cn,l as un,m as pn,n as dn}from"./chunk-L6TKLBLE.js";import"./chunk-O64M6JIR.js";import{A as Zt,B as Yt,C as en,D as tn,J as nn,K as rn,L as on,M as sn,a as _t,b as Re,c as Nt,d as Tt,e as Vt,f as wt,g as Dt,h as Pt,i as It,j as Ot,m as Gt,n as Lt,o as Ut,p as Wt,q as Xt,r as Qt,t as $e,u as He,v as Be,w as je,x as Kt,y as Jt,z as qt}from"./chunk-JXY4UOWN.js";import{A as ge,E as Ae,F as Ct,H as St,I as yt,J as re,N as ze,T as ve,U as xt,aa as _e,b as zt,ba as Mt,d as vt,da as be,ea as Ce,fa as L,ia as Se,la as kt,oa as Et,pa as Ft,ra as At,ua as Rt,va as $t,w as bt,x as D,xa as Ht,y as ie,ya as Bt,za as jt}from"./chunk-J37VGLPJ.js";import{Ac as R,B as ae,Ba as ot,C as Ne,Ca as st,E as Ye,Ea as at,Eb as ce,Fa as C,Fb as d,Ga as $,Gb as ut,Gc as Ee,H as et,Ha as H,Hb as F,Ib as ee,Jb as K,Jc as m,Kc as V,L as W,Lb as y,Lc as gt,Mb as Ie,Mc as O,Ob as B,Oc as Fe,Pb as j,Qb as a,Ra as Ve,Rb as l,Sb as h,Tb as pt,Ub as dt,W as tt,Wb as I,X as A,Z as Te,aa as le,ac as z,ba as nt,bb as lt,ca as X,cc as p,dc as mt,ec as G,f as q,fb as u,gc as ue,h as Ze,ha as x,hc as pe,ic as de,jb as we,jc as te,kb as v,kc as Oe,lc as ke,mc as T,nb as De,nc as M,o as Me,ob as Y,oc as me,pc as ne,ra as E,s as Z,sa as _,sb as P,ta as b,tb as Q,ub as Pe,uc as fe,wc as he,xa as it,xb as ct,y as se,ya as rt,yb as g,yc as ft,zc as ht}from"./chunk-D2EZNFQM.js";import{a as S,b as U,e as qe}from"./chunk-AP4OEWII.js";var mn=[{code:"vi-VN",name:"Ti\u1EBFng Vi\u1EC7t"},{code:"zh-CN",name:"Ti\u1EBFng Trung Qu\u1ED1c ph\u1ED5 th\xF4ng"},{code:"en-US",name:"Ti\u1EBFng Anh M\u1EF9"}];var Dn=["handle"],Pn=i=>({$implicit:i}),We=(i,o)=>o.value;function In(i,o){if(i&1&&h(0,"span",1),i&2){let e=o.$implicit;ee(e.style),F("ant-slider-mark-active",e.active),d("innerHTML",e.label,lt)}}function On(i,o){if(i&1&&h(0,"span",1),i&2){let e=o.$implicit;ee(e.style),F("ant-slider-dot-active",e.active)}}function kn(i,o){if(i&1&&h(0,"nz-slider-step",2),i&2){let e=p();d("vertical",e.nzVertical)("min",e.nzMin)("max",e.nzMax)("lowerBound",e.bounds.lower)("upperBound",e.bounds.upper)("marksArray",e.marksArray)("included",e.nzIncluded)("reverse",e.nzReverse)}}function En(i,o){if(i&1){let e=I();a(0,"nz-slider-handle",4),z("focusin",function(){let n=_(e).$index,r=p();return b(r.onHandleFocusIn(n))}),l()}if(i&2){let e=o.$implicit,t=p();d("vertical",t.nzVertical)("reverse",t.nzReverse)("offset",e.offset)("value",e.value)("active",e.active)("tooltipFormatter",t.nzTipFormatter)("tooltipVisible",t.nzTooltipVisible)("tooltipPlacement",t.nzTooltipPlacement)("dir",t.dir)}}function Fn(i,o){if(i&1&&h(0,"nz-slider-marks",2),i&2){let e=p();d("vertical",e.nzVertical)("min",e.nzMin)("max",e.nzMax)("lowerBound",e.bounds.lower)("upperBound",e.bounds.upper)("marksArray",e.marksArray)("included",e.nzIncluded)("reverse",e.nzReverse)}}var Ge=(()=>{class i{isDragging=!1;static \u0275fac=function(t){return new(t||i)};static \u0275prov=nt({token:i,factory:i.\u0275fac})}return i})(),Le=(()=>{class i{sliderService;cdr;handleEl;tooltip;vertical;reverse;offset;value;tooltipVisible="default";tooltipPlacement;tooltipFormatter;active=!1;dir="ltr";tooltipTitle;style={};constructor(e,t){this.sliderService=e,this.cdr=t}ngOnChanges(e){let{offset:t,value:n,active:r,tooltipVisible:s,reverse:c,dir:f}=e;(t||c||f)&&this.updateStyle(),n&&(this.updateTooltipTitle(),this.updateTooltipPosition()),r&&(r.currentValue?this.toggleTooltip(!0):this.toggleTooltip(!1)),s?.currentValue==="always"&&Promise.resolve().then(()=>this.toggleTooltip(!0,!0))}enterHandle=()=>{this.sliderService.isDragging||(this.toggleTooltip(!0),this.updateTooltipPosition(),this.cdr.detectChanges())};leaveHandle=()=>{this.sliderService.isDragging||(this.toggleTooltip(!1),this.cdr.detectChanges())};focus(){this.handleEl?.nativeElement.focus()}toggleTooltip(e,t=!1){!t&&(this.tooltipVisible!=="default"||!this.tooltip)||(e?this.tooltip?.show():this.tooltip?.hide())}updateTooltipTitle(){this.tooltipFormatter?this.tooltipTitle=typeof this.tooltipFormatter=="function"?this.tooltipFormatter(this.value):this.tooltipFormatter:this.tooltipTitle=`${this.value}`}updateTooltipPosition(){this.tooltip&&Promise.resolve().then(()=>this.tooltip?.updatePosition())}updateStyle(){let e=this.vertical,t=this.reverse,n=this.offset,r=e?{[t?"top":"bottom"]:`${n}%`,[t?"bottom":"top"]:"auto",transform:t?null:"translateY(+50%)"}:U(S({},this.getHorizontalStylePosition()),{transform:`translateX(${t?this.dir==="rtl"?"-":"+":this.dir==="rtl"?"+":"-"}50%)`});this.style=r,this.cdr.markForCheck()}getHorizontalStylePosition(){let e=this.reverse?"auto":`${this.offset}%`,t=this.reverse?`${this.offset}%`:"auto";if(this.dir==="rtl"){let n=e;e=t,t=n}return{left:e,right:t}}static \u0275fac=function(t){return new(t||i)(v(Ge),v(Ee))};static \u0275cmp=P({type:i,selectors:[["nz-slider-handle"]],viewQuery:function(t,n){if(t&1&&(ue(Dn,5),ue(J,5)),t&2){let r;pe(r=de())&&(n.handleEl=r.first),pe(r=de())&&(n.tooltip=r.first)}},hostBindings:function(t,n){t&1&&z("mouseenter",function(){return n.enterHandle()})("mouseleave",function(){return n.leaveHandle()})},inputs:{vertical:[2,"vertical","vertical",m],reverse:[2,"reverse","reverse",m],offset:[2,"offset","offset",ge],value:[2,"value","value",ge],tooltipVisible:"tooltipVisible",tooltipPlacement:"tooltipPlacement",tooltipFormatter:"tooltipFormatter",active:[2,"active","active",m],dir:"dir"},exportAs:["nzSliderHandle"],features:[E],decls:2,vars:8,consts:[["handle",""],["tabindex","0","nz-tooltip","",1,"ant-slider-handle",3,"nzTooltipTitle","nzTooltipTitleContext","nzTooltipTrigger","nzTooltipPlacement"]],template:function(t,n){t&1&&h(0,"div",1,0),t&2&&(ee(n.style),d("nzTooltipTitle",n.tooltipFormatter===null||n.tooltipVisible==="never"?null:n.tooltipTitle)("nzTooltipTitleContext",he(6,Pn,n.value))("nzTooltipTrigger",null)("nzTooltipPlacement",n.tooltipPlacement))},dependencies:[ye,J],encapsulation:2,changeDetection:0})}return i})(),An=(()=>{class i{lowerBound=null;upperBound=null;marksArray=[];min;max;vertical=!1;included=!1;reverse;marks=[];ngOnChanges(e){let{marksArray:t,lowerBound:n,upperBound:r,reverse:s}=e;(t||s)&&this.buildMarks(),(t||n||r||s)&&this.togglePointActive()}buildMarks(){let e=this.max-this.min;this.marks=this.marksArray.map(t=>{let{value:n,offset:r,config:s}=t,c=this.getMarkStyles(n,e,s);return{label:fn(s)?s.label:s,offset:r,style:c,value:n,config:s,active:!1}})}getMarkStyles(e,t,n){let r,s=this.reverse?this.max+this.min-e:e;return this.vertical?r={marginBottom:"-50%",bottom:`${(s-this.min)/t*100}%`}:r={transform:"translate3d(-50%, 0, 0)",left:`${(s-this.min)/t*100}%`},fn(n)&&n.style&&(r=S(S({},r),n.style)),r}togglePointActive(){this.marks&&this.lowerBound!==null&&this.upperBound!==null&&this.marks.forEach(e=>{let t=e.value,n=!this.included&&t===this.upperBound||this.included&&t<=this.upperBound&&t>=this.lowerBound;e.active=n})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=P({type:i,selectors:[["nz-slider-marks"]],hostAttrs:[1,"ant-slider-mark"],inputs:{lowerBound:"lowerBound",upperBound:"upperBound",marksArray:"marksArray",min:[2,"min","min",V],max:[2,"max","max",V],vertical:[2,"vertical","vertical",m],included:[2,"included","included",m],reverse:[2,"reverse","reverse",m]},exportAs:["nzSliderMarks"],features:[E],decls:2,vars:0,consts:[[1,"ant-slider-mark-text",3,"ant-slider-mark-active","style","innerHTML"],[1,"ant-slider-mark-text",3,"innerHTML"]],template:function(t,n){t&1&&B(0,In,1,5,"span",0,We),t&2&&j(n.marks)},encapsulation:2,changeDetection:0})}return i})();function fn(i){return typeof i!="string"}var Rn=(()=>{class i{lowerBound=null;upperBound=null;marksArray=[];min;max;vertical=!1;included=!1;reverse;steps=[];ngOnChanges(e){let{marksArray:t,lowerBound:n,upperBound:r,reverse:s}=e;(t||s)&&this.buildSteps(),(t||n||r||s)&&this.togglePointActive()}buildSteps(){let e=this.vertical?"bottom":"left";this.steps=this.marksArray.map(t=>{let{value:n,config:r}=t,s=t.offset,c=this.max-this.min;return this.reverse&&(s=(this.max-n)/c*100),{value:n,offset:s,config:r,active:!1,style:{[e]:`${s}%`,transform:this.vertical?"translateY(50%)":"translateX(-50%)"}}})}togglePointActive(){this.steps&&this.lowerBound!==null&&this.upperBound!==null&&this.steps.forEach(e=>{let t=e.value,n=!this.included&&t===this.upperBound||this.included&&t<=this.upperBound&&t>=this.lowerBound;e.active=n})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=P({type:i,selectors:[["nz-slider-step"]],hostAttrs:[1,"ant-slider-step"],inputs:{lowerBound:"lowerBound",upperBound:"upperBound",marksArray:"marksArray",min:[2,"min","min",V],max:[2,"max","max",V],vertical:[2,"vertical","vertical",m],included:[2,"included","included",m],reverse:[2,"reverse","reverse",m]},exportAs:["nzSliderStep"],features:[E],decls:2,vars:0,consts:[[1,"ant-slider-dot",3,"ant-slider-dot-active","style"],[1,"ant-slider-dot"]],template:function(t,n){t&1&&B(0,On,1,4,"span",0,We),t&2&&j(n.steps)},encapsulation:2,changeDetection:0})}return i})(),$n=(()=>{class i{offset=0;reverse=!1;dir="ltr";length=0;vertical=!1;included=!1;style={};ngOnChanges(){let e=this.vertical,t=this.reverse,n=this.included?"visible":"hidden",r=this.offset,s=this.length,c=e?{[t?"top":"bottom"]:`${r}%`,[t?"bottom":"top"]:"auto",height:`${s}%`,visibility:n}:U(S({},this.getHorizontalStylePosition()),{width:`${s}%`,visibility:n});this.style=c}getHorizontalStylePosition(){let e=this.reverse?"auto":`${this.offset}%`,t=this.reverse?`${this.offset}%`:"auto";if(this.dir==="rtl"){let n=e;e=t,t=n}return{left:e,right:t}}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=P({type:i,selectors:[["nz-slider-track"]],inputs:{offset:[2,"offset","offset",V],reverse:[2,"reverse","reverse",m],dir:"dir",length:[2,"length","length",V],vertical:[2,"vertical","vertical",m],included:[2,"included","included",m]},exportAs:["nzSliderTrack"],features:[E],decls:1,vars:2,consts:[[1,"ant-slider-track"]],template:function(t,n){t&1&&h(0,"div",0),t&2&&ee(n.style)},encapsulation:2,changeDetection:0})}return i})(),Xe=(()=>{class i{slider;sliderService;cdr;platform;directionality;handlerComponents;nzDisabled=!1;nzDots=!1;nzIncluded=!0;nzRange=!1;nzVertical=!1;nzReverse=!1;nzDefaultValue;nzMarks=null;nzMax=100;nzMin=0;nzStep=1;nzTooltipVisible="default";nzTooltipPlacement="top";nzTipFormatter;nzOnAfterChange=new ot;value=null;cacheSliderStart=null;cacheSliderLength=null;activeValueIndex=void 0;track={offset:null,length:null};handles=[];marksArray=null;bounds={lower:null,upper:null};dir="ltr";dragStart$;dragMove$;dragEnd$;dragStart_;dragMove_;dragEnd_;destroy$=new q;isNzDisableFirstChange=!0;constructor(e,t,n,r,s){this.slider=e,this.sliderService=t,this.cdr=n,this.platform=r,this.directionality=s}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(A(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges(),this.updateTrackAndHandles(),this.onValueChange(this.getValue(!0))}),this.handles=hn(this.nzRange?2:1),this.marksArray=this.nzMarks?this.generateMarkItems(this.nzMarks):null,this.bindDraggingHandlers(),this.toggleDragDisabled(this.nzDisabled),this.getValue()===null&&this.setValue(this.formatValue(null))}ngOnChanges(e){let{nzDisabled:t,nzMarks:n,nzRange:r}=e;t&&!t.firstChange?this.toggleDragDisabled(t.currentValue):n&&!n.firstChange?this.marksArray=this.nzMarks?this.generateMarkItems(this.nzMarks):null:r&&!r.firstChange&&(this.handles=hn(r.currentValue?2:1),this.setValue(this.formatValue(null)))}ngOnDestroy(){this.unsubscribeDrag(),this.destroy$.next(!0),this.destroy$.complete()}writeValue(e){this.setValue(e,!0)}onValueChange(e){}onTouched(){}registerOnChange(e){this.onValueChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.toggleDragDisabled(this.nzDisabled),this.cdr.markForCheck()}onKeyDown(e){if(this.nzDisabled)return;let t=e.keyCode,n=t===39||t===38,r=t===37||t===40;if(!(n||r))return;e.preventDefault();let s=(r?-this.nzStep:this.nzStep)*(this.nzReverse?-1:1);s=this.dir==="rtl"?s*-1:s;let c=this.nzRange?this.value[this.activeValueIndex]+s:this.value+s;this.setActiveValue(re(c,this.nzMin,this.nzMax)),this.nzOnAfterChange.emit(this.getValue(!0))}onHandleFocusIn(e){this.activeValueIndex=e}setValue(e,t=!1){t?(this.value=this.formatValue(e),this.updateTrackAndHandles()):Gn(this.value,e)||(this.value=e,this.updateTrackAndHandles(),this.onValueChange(this.getValue(!0)))}getValue(e=!1){return e&&this.value&&N(this.value)?[...this.value].sort((t,n)=>t-n):this.value}getValueToOffset(e){let t=e;return typeof t>"u"&&(t=this.getValue(!0)),N(t)?t.map(n=>this.valueToOffset(n)):this.valueToOffset(t)}setActiveValueIndex(e){let t=this.getValue();if(N(t)){let n=null,r,s=-1;t.forEach((c,f)=>{r=Math.abs(e-c),(n===null||r<n)&&(n=r,s=f)}),this.activeValueIndex=s,this.handlerComponents.toArray()[s].focus()}else this.handlerComponents.toArray()[0].focus()}setActiveValue(e){if(N(this.value)){let t=[...this.value];t[this.activeValueIndex]=e,this.setValue(t)}else this.setValue(e)}updateTrackAndHandles(){let e=this.getValue(),t=this.getValueToOffset(e),n=this.getValue(!0),r=this.getValueToOffset(n),s=N(n)?n:[0,n],c=N(r)?[r[0],r[1]-r[0]]:[0,r];this.handles.forEach((f,w)=>{f.offset=N(t)?t[w]:t,f.value=N(e)?e[w]:e||0}),[this.bounds.lower,this.bounds.upper]=s,[this.track.offset,this.track.length]=c,this.cdr.markForCheck()}onDragStart(e){this.toggleDragMoving(!0),this.cacheSliderProperty(),this.setActiveValueIndex(this.getLogicalValue(e)),this.setActiveValue(this.getLogicalValue(e)),this.showHandleTooltip(this.nzRange?this.activeValueIndex:0)}onDragMove(e){this.setActiveValue(this.getLogicalValue(e)),this.cdr.markForCheck()}getLogicalValue(e){return this.nzReverse?!this.nzVertical&&this.dir==="rtl"?e:this.nzMax-e+this.nzMin:!this.nzVertical&&this.dir==="rtl"?this.nzMax-e+this.nzMin:e}onDragEnd(){this.nzOnAfterChange.emit(this.getValue(!0)),this.toggleDragMoving(!1),this.cacheSliderProperty(!0),this.hideAllHandleTooltip(),this.cdr.markForCheck()}bindDraggingHandlers(){if(!this.platform.isBrowser)return;let e=c=>f=>c.reduce((w,k)=>w[k]||w,f),t=this.slider.nativeElement,n=this.nzVertical?"pageY":"pageX",r={start:"mousedown",move:"mousemove",end:"mouseup",pluckKey:[n]},s={start:"touchstart",move:"touchmove",end:"touchend",pluckKey:["touches","0",n],filter:c=>c instanceof TouchEvent};[r,s].forEach(c=>{let{start:f,move:w,end:k,pluckKey:oe,filter:Je=()=>!0}=c;c.startPlucked$=se(t,f).pipe(Ne(Je),Te(Ae),Z(e(oe)),Z(xe=>this.findClosestValue(xe))),c.end$=se(document,k),c.moveResolved$=se(document,w).pipe(Ne(Je),Te(Ae),Z(e(oe)),W(),Z(xe=>this.findClosestValue(xe)),W(),A(c.end$))}),this.dragStart$=ae(r.startPlucked$,s.startPlucked$),this.dragMove$=ae(r.moveResolved$,s.moveResolved$),this.dragEnd$=ae(r.end$,s.end$)}subscribeDrag(e=["start","move","end"]){e.indexOf("start")!==-1&&this.dragStart$&&!this.dragStart_&&(this.dragStart_=this.dragStart$.subscribe(this.onDragStart.bind(this))),e.indexOf("move")!==-1&&this.dragMove$&&!this.dragMove_&&(this.dragMove_=this.dragMove$.subscribe(this.onDragMove.bind(this))),e.indexOf("end")!==-1&&this.dragEnd$&&!this.dragEnd_&&(this.dragEnd_=this.dragEnd$.subscribe(this.onDragEnd.bind(this)))}unsubscribeDrag(e=["start","move","end"]){e.indexOf("start")!==-1&&this.dragStart_&&(this.dragStart_.unsubscribe(),this.dragStart_=null),e.indexOf("move")!==-1&&this.dragMove_&&(this.dragMove_.unsubscribe(),this.dragMove_=null),e.indexOf("end")!==-1&&this.dragEnd_&&(this.dragEnd_.unsubscribe(),this.dragEnd_=null)}toggleDragMoving(e){let t=["move","end"];e?(this.sliderService.isDragging=!0,this.subscribeDrag(t)):(this.sliderService.isDragging=!1,this.unsubscribeDrag(t))}toggleDragDisabled(e){e?this.unsubscribeDrag():this.subscribeDrag(["start"])}findClosestValue(e){let t=this.getSliderStartPosition(),n=this.getSliderLength(),r=re((e-t)/n,0,1),s=(this.nzMax-this.nzMin)*(this.nzVertical?1-r:r)+this.nzMin,c=this.nzMarks===null?[]:Object.keys(this.nzMarks).map(parseFloat).sort((k,oe)=>k-oe);if(this.nzStep!==0&&!this.nzDots){let k=Math.round(s/this.nzStep)*this.nzStep;c.push(k)}let f=c.map(k=>Math.abs(s-k)),w=c[f.indexOf(Math.min(...f))];return this.nzStep===0?w:parseFloat(w.toFixed(yt(this.nzStep)))}valueToOffset(e){return St(this.nzMin,this.nzMax,e)}getSliderStartPosition(){if(this.cacheSliderStart!==null)return this.cacheSliderStart;let e=Ct(this.slider.nativeElement);return this.nzVertical?e.top:e.left}getSliderLength(){if(this.cacheSliderLength!==null)return this.cacheSliderLength;let e=this.slider.nativeElement;return this.nzVertical?e.clientHeight:e.clientWidth}cacheSliderProperty(e=!1){this.cacheSliderStart=e?null:this.getSliderStartPosition(),this.cacheSliderLength=e?null:this.getSliderLength()}formatValue(e){return ie(e)?this.nzRange?[this.nzMin,this.nzMax]:this.nzMin:Bn(e,this.nzRange)?N(e)?e.map(t=>re(t,this.nzMin,this.nzMax)):re(e,this.nzMin,this.nzMax):this.nzDefaultValue?this.nzDefaultValue:this.nzRange?[this.nzMin,this.nzMax]:this.nzMin}showHandleTooltip(e=0){this.handles.forEach((t,n)=>{t.active=n===e})}hideAllHandleTooltip(){this.handles.forEach(e=>e.active=!1)}generateMarkItems(e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n],s=typeof n=="number"?n:parseFloat(n);s>=this.nzMin&&s<=this.nzMax&&t.push({value:s,offset:this.valueToOffset(s),config:r})}return t.length?t:null}static \u0275fac=function(t){return new(t||i)(v($),v(Ge),v(Ee),v(ve),v(L))};static \u0275cmp=P({type:i,selectors:[["nz-slider"]],viewQuery:function(t,n){if(t&1&&ue(Le,5),t&2){let r;pe(r=de())&&(n.handlerComponents=r)}},hostAttrs:[1,"ant-slider"],hostVars:8,hostBindings:function(t,n){t&1&&z("keydown",function(s){return n.onKeyDown(s)}),t&2&&F("ant-slider-rtl",n.dir==="rtl")("ant-slider-disabled",n.nzDisabled)("ant-slider-vertical",n.nzVertical)("ant-slider-with-marks",n.marksArray)},inputs:{nzDisabled:[2,"nzDisabled","nzDisabled",m],nzDots:[2,"nzDots","nzDots",m],nzIncluded:[2,"nzIncluded","nzIncluded",m],nzRange:[2,"nzRange","nzRange",m],nzVertical:[2,"nzVertical","nzVertical",m],nzReverse:[2,"nzReverse","nzReverse",m],nzDefaultValue:"nzDefaultValue",nzMarks:"nzMarks",nzMax:[2,"nzMax","nzMax",V],nzMin:[2,"nzMin","nzMin",V],nzStep:[2,"nzStep","nzStep",ge],nzTooltipVisible:"nzTooltipVisible",nzTooltipPlacement:"nzTooltipPlacement",nzTipFormatter:"nzTipFormatter"},outputs:{nzOnAfterChange:"nzOnAfterChange"},exportAs:["nzSlider"],features:[fe([{provide:Se,useExisting:le(()=>i),multi:!0},Ge]),E],decls:6,vars:8,consts:[[1,"ant-slider-rail"],[3,"vertical","included","offset","length","reverse","dir"],[3,"vertical","min","max","lowerBound","upperBound","marksArray","included","reverse"],[3,"vertical","reverse","offset","value","active","tooltipFormatter","tooltipVisible","tooltipPlacement","dir"],[3,"focusin","vertical","reverse","offset","value","active","tooltipFormatter","tooltipVisible","tooltipPlacement","dir"]],template:function(t,n){t&1&&(h(0,"div",0)(1,"nz-slider-track",1),g(2,kn,1,8,"nz-slider-step",2),B(3,En,1,9,"nz-slider-handle",3,We),g(5,Fn,1,8,"nz-slider-marks",2)),t&2&&(u(),d("vertical",n.nzVertical)("included",n.nzIncluded)("offset",n.track.offset)("length",n.track.length)("reverse",n.nzReverse)("dir",n.dir),u(),y(n.marksArray?2:-1),u(),j(n.handles),u(2),y(n.marksArray?5:-1))},dependencies:[$n,Rn,Le,An],encapsulation:2,changeDetection:0})}return i})();function Hn(){return new Error(`The "nzRange" can't match the "ngModel"'s type, please check these properties: "nzRange", "ngModel", "nzDefaultValue".`)}function N(i){return i instanceof Array?i.length===2:!1}function hn(i){return Array(i).fill(0).map(()=>({offset:null,value:null,active:!1}))}function Bn(i,o){return!N(i)&&isNaN(i)||N(i)&&i.some(e=>isNaN(e))?!1:jn(i,o)}function jn(i,o=!1){if(N(i)!==o)throw Hn();return!0}function Gn(i,o){return typeof i!=typeof o?!1:N(i)&&N(o)?bt(i,o):i===o}var gn=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Q({type:i});static \u0275inj=X({imports:[Xe,Le]})}return i})();var Wn=["input"],Xn=["inputNumberHost"],Qn=[[["","nzInputAddonBefore",""]],[["","nzInputAddonAfter",""]],[["","nzInputPrefix",""]],[["","nzInputSuffix",""]],[["","nzInputNumberUpIcon",""]],[["","nzInputNumberDownIcon",""]]],Kn=["[nzInputAddonBefore]","[nzInputAddonAfter]","[nzInputPrefix]","[nzInputSuffix]","[nzInputNumberUpIcon]","[nzInputNumberDownIcon]"];function Jn(i,o){}function qn(i,o){if(i&1&&g(0,Jn,0,0,"ng-template",8),i&2){p();let e=T(4);d("ngTemplateOutlet",e)}}function Zn(i,o){}function Yn(i,o){if(i&1&&g(0,Zn,0,0,"ng-template",8),i&2){p();let e=T(8);d("ngTemplateOutlet",e)}}function ei(i,o){}function ti(i,o){if(i&1&&g(0,ei,0,0,"ng-template",8),i&2){p();let e=T(12);d("ngTemplateOutlet",e)}}function ni(i,o){i&1&&(a(0,"div",10),G(1),l())}function ii(i,o){}function ri(i,o){if(i&1&&g(0,ii,0,0,"ng-template",8),i&2){p(2);let e=T(6);d("ngTemplateOutlet",e)}}function oi(i,o){}function si(i,o){if(i&1&&g(0,oi,0,0,"ng-template",8),i&2){p(2);let e=T(10);d("ngTemplateOutlet",e)}}function ai(i,o){i&1&&(a(0,"div",10),G(1,1),l())}function li(i,o){if(i&1&&(a(0,"div",9),g(1,ni,2,0,"div",10)(2,ri,1,1,null,8)(3,si,1,1,null,8)(4,ai,2,0,"div",10),l()),i&2){let e=p();u(),y(e.addonBefore()?1:-1),u(),y(e.hasAffix()?2:3),u(2),y(e.addonAfter()?4:-1)}}function ci(i,o){}function ui(i,o){if(i&1&&(a(0,"div"),g(1,ci,0,0,"ng-template",8),l()),i&2){let e=p(),t=T(8);K(e.affixWrapperClass()),u(),d("ngTemplateOutlet",t)}}function pi(i,o){i&1&&(a(0,"span",11),G(1,2),l())}function di(i,o){}function mi(i,o){if(i&1&&h(0,"nz-form-item-feedback-icon",13),i&2){let e=p(3);d("status",e.finalStatus())}}function fi(i,o){if(i&1&&(a(0,"span",12),G(1,3),g(2,mi,1,1,"nz-form-item-feedback-icon",13),l()),i&2){let e=p(2);u(2),y(e.hasFeedback()&&e.finalStatus()?2:-1)}}function hi(i,o){if(i&1&&g(0,pi,2,0,"span",11)(1,di,0,0,"ng-template",8)(2,fi,3,1,"span",12),i&2){let e=p(),t=T(10);y(e.prefix()?0:-1),u(),d("ngTemplateOutlet",t),u(),y(e.suffix()||e.hasFeedback()?2:-1)}}function gi(i,o){}function zi(i,o){if(i&1&&(a(0,"div",null,5),g(2,gi,0,0,"ng-template",8),l()),i&2){let e=p(),t=T(12);K(e.inputNumberClass()),u(2),d("ngTemplateOutlet",t)}}function vi(i,o){i&1&&h(0,"nz-icon",20)}function _i(i,o){i&1&&h(0,"nz-icon",21)}function bi(i,o){if(i&1){let e=I();a(0,"div",17,7),z("mouseup",function(){_(e);let n=p(2);return b(n.stopAutoStep())})("mouseleave",function(){_(e);let n=p(2);return b(n.stopAutoStep())}),a(2,"span",18),z("mousedown",function(n){_(e);let r=p(2);return b(r.onStepMouseDown(n,!0))}),G(3,4,null,vi,1,0),l(),a(5,"span",19),z("mousedown",function(n){_(e);let r=p(2);return b(r.onStepMouseDown(n,!1))}),G(6,5,null,_i,1,0),l()()}if(i&2){let e=p(2);u(2),F("ant-input-number-handler-up-disabled",e.upDisabled()),ce("aria-disabled",e.upDisabled()),u(3),F("ant-input-number-handler-down-disabled",e.downDisabled()),ce("aria-disabled",e.downDisabled())}}function Ci(i,o){if(i&1){let e=I();g(0,bi,8,6,"div",14),a(1,"div",15)(2,"input",16,6),z("input",function(){_(e);let n=T(3),r=p();return b(r.onInput(n.value))}),l()()}if(i&2){let e,t=p();y(t.nzControls()?0:-1),u(2),d("value",t.displayValue())("placeholder",(e=t.nzPlaceHolder())!==null&&e!==void 0?e:"")("disabled",t.finalDisabled())("readOnly",t.nzReadOnly()),ce("aria-valuemin",t.nzMin())("aria-valuemax",t.nzMax())("id",t.nzId())("step",t.nzStep())("value",t.displayValue())}}var Si=(()=>{class i{nzId=C(null);nzSize=C("default");nzPlaceHolder=C(null);nzStatus=C("");nzStep=C(1,{transform:V});nzMin=C(Number.MIN_SAFE_INTEGER,{transform:V});nzMax=C(Number.MAX_SAFE_INTEGER,{transform:V});nzPrecision=C(null);nzParser=C();nzFormatter=C();nzDisabled=C(!1,{transform:m});nzReadOnly=C(!1,{transform:m});nzAutoFocus=C(!1,{transform:m});nzBordered=C(!0,{transform:m});nzKeyboard=C(!0,{transform:m});nzControls=C(!0,{transform:m});nzOnStep=at();onChange=()=>{};onTouched=()=>{};isDisabledFirstChange=!0;compactSize=x(Tt,{optional:!0});inputRef=De.required("input");hostRef=De("inputNumberHost");elementRef=x($);injector=x(it);focusMonitor=x(Ut);directionality=x(L);nzFormStatusService=x(Gt,{optional:!0});autoStepTimer=null;defaultFormater=e=>{let t=this.nzPrecision();return D(t)?e.toFixed(t):e.toString()};value=H(null);displayValue=H("");dir=Nt(this.directionality.change,{initialValue:this.directionality.value});focused=H(!1);hasFeedback=H(!1);finalStatus=Fe(()=>this.nzStatus());finalDisabled=Fe(()=>this.nzDisabled());prefix=Y(Be);suffix=Y(je);addonBefore=Y($e);addonAfter=Y(He);hasAffix=O(()=>!!this.prefix()||!!this.suffix()||this.hasFeedback());hasAddon=O(()=>!!this.addonBefore()||!!this.addonAfter());class=O(()=>this.hasAddon()?this.groupWrapperClass():this.hasAffix()?this.affixWrapperClass():this.inputNumberClass());inputNumberClass=O(()=>S({"ant-input-number":!0,"ant-input-number-lg":this.finalSize()==="large","ant-input-number-sm":this.finalSize()==="small","ant-input-number-disabled":this.finalDisabled(),"ant-input-number-readonly":this.nzReadOnly(),"ant-input-number-borderless":!this.nzBordered(),"ant-input-number-focused":this.focused(),"ant-input-number-rtl":this.dir()==="rtl","ant-input-number-in-form-item":!!this.nzFormStatusService,"ant-input-number-out-of-range":this.value()!==null&&!Qe(this.value(),this.nzMin(),this.nzMax())},ze("ant-input-number",this.finalStatus(),this.hasFeedback())));affixWrapperClass=O(()=>S({"ant-input-number-affix-wrapper":!0,"ant-input-number-affix-wrapper-disabled":this.finalDisabled(),"ant-input-number-affix-wrapper-readonly":this.nzReadOnly(),"ant-input-number-affix-wrapper-borderless":!this.nzBordered(),"ant-input-number-affix-wrapper-focused":this.focused(),"ant-input-number-affix-wrapper-rtl":this.dir()==="rtl"},ze("ant-input-number-affix-wrapper",this.finalStatus(),this.hasFeedback())));groupWrapperClass=O(()=>S({"ant-input-number-group-wrapper":!0,"ant-input-number-group-wrapper-rtl":this.dir()==="rtl"},ze("ant-input-number-group-wrapper",this.finalStatus(),this.hasFeedback())));finalSize=O(()=>this.compactSize?this.compactSize():this.nzSize());upDisabled=O(()=>!ie(this.value())&&this.value()>=this.nzMax());downDisabled=O(()=>!ie(this.value())&&this.value()<=this.nzMin());constructor(){let e=x(rt);Ve(()=>{let t=this.hostRef(),n=t||this.elementRef;this.focusMonitor.monitor(n,!0).pipe(Re(e)).subscribe(r=>{this.focused.set(!!r),r||(this.fixValue(),this.onTouched())}),e.onDestroy(()=>{this.focusMonitor.stopMonitoring(n)})}),this.nzFormStatusService?.formStatusChanges.pipe(Re()).subscribe(({status:t,hasFeedback:n})=>{this.finalStatus.set(t),this.hasFeedback.set(n)})}ngOnInit(){this.nzAutoFocus()&&Ve(()=>this.focus(),{injector:this.injector})}writeValue(e){gt(()=>{this.value.set(e),this.setValue(e)})}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.finalDisabled.set(this.isDisabledFirstChange&&this.nzDisabled()||e),this.isDisabledFirstChange=!1}focus(){this.inputRef().nativeElement.focus()}blur(){this.inputRef().nativeElement.blur()}step(e,t){if(t&&this.upDisabled()||!t&&this.downDisabled())return;let n=e.shiftKey?this.nzStep()*10:this.nzStep();t||(n=-n);let s=10**_n(n),c=vn((Math.round((this.value()||0)*s)+Math.round(n*s))/s,this.nzMin(),this.nzMax(),this.nzPrecision());this.setValue(c),this.nzOnStep.emit({type:t?"up":"down",value:this.value(),offset:this.nzStep()}),this.focus()}setValue(e){let t=this.nzFormatter()??this.defaultFormater,n=this.nzPrecision();D(n)&&(e&&=+e.toFixed(n));let r=e===null?"":t(e);this.displayValue.set(r),this.updateValue(e)}setValueByTyping(e){if(e===""){this.displayValue.set(""),this.updateValue(null);return}let n=(this.nzParser()??zn)(e);if(Mi(e)||Number.isNaN(n)){this.displayValue.set(e);return}let r=this.nzFormatter()?.(n)??n.toString();this.displayValue.set(r),Qe(n,this.nzMin(),this.nzMax())&&this.updateValue(n)}updateValue(e){this.value()!==e&&(this.value.set(e),this.onChange(e))}fixValue(){let e=this.displayValue();if(e==="")return;let n=(this.nzParser()??zn)(e);if(Number.isNaN(n))n=this.value();else{let r=this.nzPrecision();D(r)&&_n(n)!==r&&(n=+n.toFixed(r)),Qe(n,this.nzMin(),this.nzMax())||(n=vn(n,this.nzMin(),this.nzMax(),r))}this.setValue(n)}stopAutoStep(){this.autoStepTimer!==null&&(clearTimeout(this.autoStepTimer),this.autoStepTimer=null)}onStepMouseDown(e,t){e.preventDefault(),this.stopAutoStep(),this.step(e,t);let n=()=>{this.step(e,t),this.autoStepTimer=setTimeout(n,yi)};this.autoStepTimer=setTimeout(n,xi)}onKeyDown(e){switch(e.keyCode){case 38:e.preventDefault(),this.nzKeyboard()&&this.step(e,!0);break;case 40:e.preventDefault(),this.nzKeyboard()&&this.step(e,!1);break;case 13:this.fixValue();break}}onInput(e){this.setValueByTyping(e)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=P({type:i,selectors:[["nz-input-number"]],contentQueries:function(t,n,r){t&1&&(te(r,n.prefix,Be,5),te(r,n.suffix,je,5),te(r,n.addonBefore,$e,5),te(r,n.addonAfter,He,5)),t&2&&ke(4)},viewQuery:function(t,n){t&1&&(Oe(n.inputRef,Wn,5),Oe(n.hostRef,Xn,5)),t&2&&ke(2)},hostVars:2,hostBindings:function(t,n){t&1&&z("keydown",function(s){return n.onKeyDown(s)}),t&2&&K(n.class())},inputs:{nzId:[1,"nzId"],nzSize:[1,"nzSize"],nzPlaceHolder:[1,"nzPlaceHolder"],nzStatus:[1,"nzStatus"],nzStep:[1,"nzStep"],nzMin:[1,"nzMin"],nzMax:[1,"nzMax"],nzPrecision:[1,"nzPrecision"],nzParser:[1,"nzParser"],nzFormatter:[1,"nzFormatter"],nzDisabled:[1,"nzDisabled"],nzReadOnly:[1,"nzReadOnly"],nzAutoFocus:[1,"nzAutoFocus"],nzBordered:[1,"nzBordered"],nzKeyboard:[1,"nzKeyboard"],nzControls:[1,"nzControls"]},outputs:{nzOnStep:"nzOnStep"},exportAs:["nzInputNumber"],features:[fe([{provide:Se,useExisting:le(()=>i),multi:!0},{provide:Vt,useValue:"input-number"}]),ct([wt])],ngContentSelectors:Kn,decls:13,vars:1,consts:[["inputNumberWithAddonInner",""],["inputNumberWithAffix",""],["inputNumberWithAffixInner",""],["inputNumber",""],["inputNumberInner",""],["inputNumberHost",""],["input",""],["handlers",""],[3,"ngTemplateOutlet"],[1,"ant-input-number-wrapper","ant-input-number-group"],[1,"ant-input-number-group-addon"],[1,"ant-input-number-prefix"],[1,"ant-input-number-suffix"],[3,"status"],[1,"ant-input-number-handler-wrap"],[1,"ant-input-number-input-wrap"],["autocomplete","off","role","spinbutton",1,"ant-input-number-input",3,"input","value","placeholder","disabled","readOnly"],[1,"ant-input-number-handler-wrap",3,"mouseup","mouseleave"],["role","button","unselectable","on",1,"ant-input-number-handler","ant-input-number-handler-up",3,"mousedown"],["role","button","unselectable","on",1,"ant-input-number-handler","ant-input-number-handler-down",3,"mousedown"],["nzType","up",1,"ant-input-number-handler-up-inner"],["nzType","down",1,"ant-input-number-handler-down-inner"]],template:function(t,n){t&1&&(mt(Qn),g(0,qn,1,1,null,8)(1,Yn,1,1,null,8)(2,ti,1,1,null,8)(3,li,5,3,"ng-template",null,0,R)(5,ui,2,3,"ng-template",null,1,R)(7,hi,3,3,"ng-template",null,2,R)(9,zi,3,3,"ng-template",null,3,R)(11,Ci,4,10,"ng-template",null,4,R)),t&2&&y(n.hasAddon()?0:n.hasAffix()?1:2)},dependencies:[Ce,be,Lt,zt],encapsulation:2,changeDetection:0})}return i})(),yi=200,xi=600;function zn(i){return+i.trim().replace(/。/g,".")}function Qe(i,o,e){return i>=o&&i<=e}function vn(i,o,e,t=null){if(t===null)return i<o?o:i>e?e:i;let n=+i.toFixed(t),r=Math.pow(10,t);return n<o?Math.ceil(o*r)/r:n>e?Math.floor(e*r)/r:n}function _n(i){return i.toString().split(".")[1]?.length||0}function Mi(i){return/[.。](\d*0)?$/.test(i.toString())}var bn=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Q({type:i});static \u0275inj=X({imports:[Si]})}return i})();var Ke=(()=>{class i{elementRef;renderer;mediaMatcher;ngZone;platform;breakpointService;directionality;nzAlign=null;nzJustify=null;nzGutter=null;actualGutter$=new Ze(1);dir="ltr";destroy$=new q;getGutter(){let e=[null,null],t=this.nzGutter||0;return(Array.isArray(t)?t:[t,null]).forEach((r,s)=>{typeof r=="object"&&r!==null?(e[s]=null,Object.keys(_e).map(c=>{let f=c;this.mediaMatcher.matchMedia(_e[f]).matches&&r[f]&&(e[s]=r[f])})):e[s]=Number(r)||null}),e}setGutterStyle(){let[e,t]=this.getGutter();this.actualGutter$.next([e,t]);let n=(r,s)=>{let c=this.elementRef.nativeElement;s!==null&&this.renderer.setStyle(c,r,`-${s/2}px`)};n("margin-left",e),n("margin-right",e),n("margin-top",t),n("margin-bottom",t)}constructor(e,t,n,r,s,c,f){this.elementRef=e,this.renderer=t,this.mediaMatcher=n,this.ngZone=r,this.platform=s,this.breakpointService=c,this.directionality=f}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(A(this.destroy$)).subscribe(e=>{this.dir=e}),this.setGutterStyle()}ngOnChanges(e){e.nzGutter&&this.setGutterStyle()}ngAfterViewInit(){this.platform.isBrowser&&this.breakpointService.subscribe(_e).pipe(A(this.destroy$)).subscribe(()=>{this.setGutterStyle()})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static \u0275fac=function(t){return new(t||i)(v($),v(we),v(xt),v(st),v(ve),v(Mt),v(L))};static \u0275dir=Pe({type:i,selectors:[["","nz-row",""],["nz-row"],["nz-form-item"]],hostAttrs:[1,"ant-row"],hostVars:20,hostBindings:function(t,n){t&2&&F("ant-row-top",n.nzAlign==="top")("ant-row-middle",n.nzAlign==="middle")("ant-row-bottom",n.nzAlign==="bottom")("ant-row-start",n.nzJustify==="start")("ant-row-end",n.nzJustify==="end")("ant-row-center",n.nzJustify==="center")("ant-row-space-around",n.nzJustify==="space-around")("ant-row-space-between",n.nzJustify==="space-between")("ant-row-space-evenly",n.nzJustify==="space-evenly")("ant-row-rtl",n.dir==="rtl")},inputs:{nzAlign:"nzAlign",nzJustify:"nzJustify",nzGutter:"nzGutter"},exportAs:["nzRow"],features:[E]})}return i})(),Cn=(()=>{class i{elementRef;renderer;directionality;classMap={};destroy$=new q;hostFlexStyle=null;dir="ltr";nzFlex=null;nzSpan=null;nzOrder=null;nzOffset=null;nzPush=null;nzPull=null;nzXs=null;nzSm=null;nzMd=null;nzLg=null;nzXl=null;nzXXl=null;setHostClassMap(){let e=S({"ant-col":!0,[`ant-col-${this.nzSpan}`]:D(this.nzSpan),[`ant-col-order-${this.nzOrder}`]:D(this.nzOrder),[`ant-col-offset-${this.nzOffset}`]:D(this.nzOffset),[`ant-col-pull-${this.nzPull}`]:D(this.nzPull),[`ant-col-push-${this.nzPush}`]:D(this.nzPush),"ant-col-rtl":this.dir==="rtl"},this.generateClass());for(let t in this.classMap)this.classMap.hasOwnProperty(t)&&this.renderer.removeClass(this.elementRef.nativeElement,t);this.classMap=S({},e);for(let t in this.classMap)this.classMap.hasOwnProperty(t)&&this.classMap[t]&&this.renderer.addClass(this.elementRef.nativeElement,t)}setHostFlexStyle(){this.hostFlexStyle=this.parseFlex(this.nzFlex)}parseFlex(e){return typeof e=="number"?`${e} ${e} auto`:typeof e=="string"&&/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}generateClass(){let e=["nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],t={};return e.forEach(n=>{let r=n.replace("nz","").toLowerCase();if(D(this[n]))if(typeof this[n]=="number"||typeof this[n]=="string")t[`ant-col-${r}-${this[n]}`]=!0;else{let s=this[n];["span","pull","push","offset","order"].forEach(f=>{let w=f==="span"?"-":`-${f}-`;t[`ant-col-${r}${w}${s[f]}`]=s&&D(s[f])})}}),t}nzRowDirective=x(Ke,{host:!0,optional:!0});constructor(e,t,n){this.elementRef=e,this.renderer=t,this.directionality=n}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(A(this.destroy$)).subscribe(e=>{this.dir=e,this.setHostClassMap()}),this.setHostClassMap(),this.setHostFlexStyle()}ngOnChanges(e){this.setHostClassMap();let{nzFlex:t}=e;t&&this.setHostFlexStyle()}ngAfterViewInit(){this.nzRowDirective&&this.nzRowDirective.actualGutter$.pipe(A(this.destroy$)).subscribe(([e,t])=>{let n=(r,s)=>{let c=this.elementRef.nativeElement;s!==null&&this.renderer.setStyle(c,r,`${s/2}px`)};n("padding-left",e),n("padding-right",e),n("padding-top",t),n("padding-bottom",t)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static \u0275fac=function(t){return new(t||i)(v($),v(we),v(L))};static \u0275dir=Pe({type:i,selectors:[["","nz-col",""],["nz-col"],["nz-form-control"],["nz-form-label"]],hostVars:2,hostBindings:function(t,n){t&2&&ut("flex",n.hostFlexStyle)},inputs:{nzFlex:"nzFlex",nzSpan:"nzSpan",nzOrder:"nzOrder",nzOffset:"nzOffset",nzPush:"nzPush",nzPull:"nzPull",nzXs:"nzXs",nzSm:"nzSm",nzMd:"nzMd",nzLg:"nzLg",nzXl:"nzXl",nzXXl:"nzXXl"},exportAs:["nzCol"],features:[E]})}return i})(),Sn=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Q({type:i});static \u0275inj=X({})}return i})();var Ti=i=>({active:i});function Vi(i,o){if(i&1){let e=I();a(0,"div",8),h(1,"ion-icon",13),a(2,"div")(3,"h3"),M(4),l(),a(5,"span"),M(6),ft(7,"number"),l()(),a(8,"ion-icon",14),z("click",function(){_(e);let n=p();return b(n.onRemoveFile())}),l()()}if(i&2){let e=p();u(4),me(e.file.name),u(2),ne("",ht(7,2,e.file.size/1024)," kb")}}function wi(i,o){if(i&1){let e=I();h(0,"ion-icon",15),a(1,"div",16)(2,"h4",17),M(3,"Drag and drop a file into this area to upload"),l(),a(4,"span",18),M(5,"OR"),l()(),a(6,"button",19),z("click",function(){_(e),p();let n=T(15);return b(n.click())}),M(7," Select file "),l()}}function Di(i,o){if(i&1&&h(0,"nz-option",25),i&2){let e=o.$implicit;d("nzLabel",e.name)("nzValue",e.code)}}function Pi(i,o){if(i&1){let e=I();a(0,"div",33)(1,"div",34)(2,"h2"),M(3),l(),a(4,"span"),M(5),l(),a(6,"span"),M(7),l()(),a(8,"div",35)(9,"nz-icon",36),z("click",function(){let n=_(e).$implicit,r=p(2);return b(r.onPreviewVoice(n))}),l(),a(10,"nz-icon",37),z("click",function(){let n=_(e).$implicit,r=p(2);return b(r.onSelectVoice(n))}),l()()()}if(i&2){let e=o.$implicit,t=p(2);K(he(5,Ti,t.currentVoiceSelected.name===e.name)),u(3),me(e.name),u(2),ne("Gender: ",e.ssmlGender===t.SsmlGenderEnum.MALE?"Male":"Female",""),u(2),ne("Price: ",e.price||"Unknow ","$/1 Million Character")}}function Ii(i,o){if(i&1&&(pt(0),a(1,"form",20)(2,"div",21)(3,"nz-input-group",22),h(4,"input",23),l()(),a(5,"div",21)(6,"nz-select",24),B(7,Di,1,2,"nz-option",25,Ie),l()(),a(9,"div",21)(10,"nz-row",26)(11,"nz-col",27),M(12,"T\u1ED1c \u0111\u1ED9"),l(),a(13,"nz-col",28),h(14,"nz-slider",29),l()()()(),a(15,"h1",30),M(16,"VOICES:"),l(),a(17,"div",31),B(18,Pi,11,7,"div",32,Ie),l(),dt()),i&2){let e=p(),t=T(19);u(),d("formGroup",e.searchVoiceForm),u(2),d("nzSuffix",t),u(3),d("nzAllowClear",!1),u(),j(e.LANGUAGE_CODES),u(7),d("nzMin",e.MIN_SPEED)("nzMax",e.MAX_SPEED)("nzStep",e.STEP_SPEED)("nzMarks",e.marks),u(4),j(e.voiceTypes)}}function Oi(i,o){i&1&&h(0,"nz-icon",38)}function ki(i,o){if(i&1&&(a(0,"div",12),h(1,"nz-progress",39),l()),i&2){let e=p();u(),d("nzPercent",e.progress())("nzWidth",120)}}var yn=class i{fb=x(Ht);notificationService=x(tn);subtitleTranslationService=x(un);MIN_SPEED=.05;MAX_SPEED=2;STEP_SPEED=.05;marks={.05:"0.05",.5:"0.5",1:"1",1.5:"1.5",2:"2"};formData=this.fb.group({});searchVoiceForm=this.fb.group({name:this.fb.control(""),languageCode:this.fb.control(""),speed:this.fb.control(1.25)});SsmlGenderEnum=an;LANGUAGE_CODES=mn;voiceTypes=[];_voiceTypes=[];currentVoiceSelected={languageCodes:["vi-VN"],name:"vi-VN-Neural2-A",ssmlGender:2,naturalSampleRateHertz:24e3};file;isShowModalSelectVoice=!1;textPreview="Xin ch\xE0o, \u0111\xE2y l\xE0 h\u1EC7 th\u1ED1ng chuy\u1EC3n \u0111\u1ED5i v\u0103n b\u1EA3n th\xE0nh gi\u1ECDng n\xF3i";progress=H(0);isProcessing=!1;constructor(){this.getAllVoicesType(),this.searchVoiceForm.controls.languageCode.setValue("vi-VN")}ngOnInit(){this.onLanguageCodeChange(),this.handleTrackingProcess(),this.handleSearchVoice(),this.searchVoiceForm.controls.speed.valueChanges.subscribe(o=>{console.log("Resss speed: ",o)})}handleTrackingProcess(){return qe(this,null,function*(){let o=new dn().withUrl(`${cn.apiUrl}/Process`).configureLogging(pn.Information).withAutomaticReconnect().build();try{yield o.start(),console.log("Connected in signalR!")}catch(e){this.notificationService.error("Hass error when tracking process: ",e.message)}o.on("ReceiveProcess",e=>{console.log("Process: ",e),this.progress.set(parseInt(e))})})}getAllVoicesType(){this.searchVoiceForm.get("languageCode")?.valueChanges.pipe(tt(o=>o?this.subtitleTranslationService.getVoicesType(o).pipe(Ye(()=>Me([]))):Me([]))).subscribe(o=>{this.voiceTypes=o.map(e=>U(S({},e),{price:nn(e.name)})).sort((e,t)=>(e.price||0)-(t.price||0)),this._voiceTypes=[...this.voiceTypes]})}onLanguageCodeChange(){this.searchVoiceForm.controls.languageCode.valueChanges.pipe(W()).subscribe(o=>{this.searchVoiceForm.get("name")?.setValue(""),o==="zh-CN"?this.textPreview="\u4F60\u597D\uFF0C\u8FD9\u662F\u4E00\u4E2A\u6587\u672C\u8F6C\u8BED\u97F3\u7CFB\u7EDF":o==="en-US"?this.textPreview="Hello, this is a text-to-speech system":this.textPreview="Xin ch\xE0o, \u0111\xE2y l\xE0 h\u1EC7 th\u1ED1ng chuy\u1EC3n \u0111\u1ED5i v\u0103n b\u1EA3n th\xE0nh gi\u1ECDng n\xF3i"})}uploadFile(o){let e=o.target,t=e.files;if(t?.length){if(t.length>1){alert("Vui l\xF2ng ch\u1EC9 upload 1 file");return}this.handleFile(t[0]),e.value=""}}onFileDropped(o){if(!o?.length)return;if(o.length>1){alert("Vui l\xF2ng ch\u1EC9 nh\u1EADp 1 file");return}let e=o[0];if(e.name&&!e.name.toLowerCase().endsWith(".srt")){this.notificationService.error("Error!","Please select only .srt files");return}this.handleFile(e)}handleFile(o){this.file=o,this.readFile(o)}onRemoveFile(){this.file=void 0}readFile(o){if(!o)return;let e=new FileReader;e.onload=t=>{let n=t.target.result},e.readAsText(o)}handleCancel(){this.isShowModalSelectVoice=!1,this.searchVoiceForm.get("name")?.setValue("")}onSelectVoice(o){this.currentVoiceSelected=o,this.isShowModalSelectVoice=!1}onPreviewVoice(o){let e=this.searchVoiceForm.controls.speed.value;this.subtitleTranslationService.downloadPreviewVoice(this.textPreview,o,e??1).subscribe({next:t=>{let n=URL.createObjectURL(t.body),r=new Audio(n);r.play().catch(()=>console.log("Has error when play audio")),r.onended=()=>{URL.revokeObjectURL(n)}},error:t=>{console.log("Error: ",t)}})}onTranslateSubtitle(){if(!this.file)return;let o=this.searchVoiceForm.controls.speed.value||1.25,e=new FormData;e.append("file",this.file),e.append("voiceType",JSON.stringify(U(S({},this.currentVoiceSelected),{languageCode:this.currentVoiceSelected.languageCodes[0]}))),e.append("speed",JSON.stringify(o)),this.isProcessing=!0,this.subtitleTranslationService.txtToVoice(e).subscribe({next:t=>{this.isProcessing=!1;let n=window.URL.createObjectURL(t.body),r=document.createElement("a");r.href=n,r.download=`${this.file?.name||"audio"}.wav`,r.click(),window.URL.revokeObjectURL(n),this.progress.set(0)},error:t=>{this.isProcessing=!1,console.log("Error: ",t),this.progress.set(0)}})}handleSearchVoice(){this.searchVoiceForm.get("name")?.valueChanges.pipe(W(),et(300)).subscribe(o=>{if(o){let e=this._voiceTypes.filter(t=>t.name.toLowerCase().includes(o.trim().toLowerCase()));this.voiceTypes=e}else this.voiceTypes=[...this._voiceTypes]})}onSpeedInputChange(o){console.log("Data: ",o)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-subtitle-translation"]],decls:21,vars:9,consts:[["uploadFileElement",""],["suffixIconSearch",""],[2,"display","flex","justify-content","space-between"],[1,"current-voice-selected",3,"click"],["nzType","down","nzTheme","outline"],["nz-button","","nzType","primary",3,"click","disabled"],[1,"upload-file",3,"formGroup"],["appDragDrop","",1,"box-upload","mt-4",3,"fileDropped"],[1,"file-info"],["type","file","accept",".txt","multiple","",1,"d-none",3,"change"],["nzTitle","Select voice","nzWidth","1000px",3,"nzOnCancel","nzVisible","nzFooter","nzCentered"],[4,"nzModalContent"],[1,"model-process"],["name","document-outline",1,"icon-file"],["name","close-outline",1,"icon-delete",3,"click"],["name","cloud-upload-outline",1,"icon"],[1,"wrap-text"],[1,"text"],[1,"text-small"],[1,"button-upload",3,"click"],[1,"form-search-voice",3,"formGroup"],[1,"control-search-voice"],[3,"nzSuffix"],["type","text","nz-input","","placeholder","Enter voice name...","formControlName","name"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select language code","formControlName","languageCode",2,"width","100%",3,"nzAllowClear"],[3,"nzLabel","nzValue"],["nzGutter","8"],["nzSpan","6",2,"display","flex","align-items","center"],["nzSpan","16"],["formControlName","speed",2,"margin-top","0",3,"nzMin","nzMax","nzStep","nzMarks"],[1,"title"],[1,"voices"],[1,"voice",3,"class"],[1,"voice"],[1,"voice-info"],[1,"voice-action"],["nzType","play-circle","nzTheme","outline","nz-tooltip","Preview",1,"voice-action-icon",3,"click"],["nzType","swap","nzTheme","outline","nz-tooltip","Select voice",1,"voice-action-icon",3,"click"],["nzType","search"],["nzType","circle",3,"nzPercent","nzWidth"]],template:function(e,t){if(e&1){let n=I();a(0,"div",2)(1,"div",3),z("click",function(){return _(n),b(t.isShowModalSelectVoice=!t.isShowModalSelectVoice)}),a(2,"div")(3,"h3"),M(4),l(),a(5,"span"),M(6),l()(),h(7,"nz-icon",4),l(),a(8,"button",5),z("click",function(){return _(n),b(t.onTranslateSubtitle())}),M(9," Convert to voice "),l()(),a(10,"form",6)(11,"div",7),z("fileDropped",function(s){return _(n),b(t.onFileDropped(s))}),g(12,Vi,9,4,"div",8)(13,wi,8,0),l()(),a(14,"input",9,0),z("change",function(s){return _(n),b(t.uploadFile(s))}),l(),a(16,"nz-modal",10),z("nzOnCancel",function(){return _(n),b(t.handleCancel())}),g(17,Ii,20,7,"ng-container",11),l(),g(18,Oi,1,0,"ng-template",null,1,R)(20,ki,2,2,"div",12)}e&2&&(u(4),me(t.currentVoiceSelected.name),u(2),ne(" Gender: ",t.currentVoiceSelected.ssmlGender===t.SsmlGenderEnum.MALE?"Male":"Female"," "),u(2),d("disabled",!t.file||!t.currentVoiceSelected),u(2),d("formGroup",t.formData),u(2),y(t.file?12:13),u(4),d("nzVisible",t.isShowModalSelectVoice)("nzFooter",null)("nzCentered",!0),u(4),y(t.isProcessing?20:-1))},dependencies:[Bt,At,kt,Et,Ft,jt,Rt,$t,_t,vt,Ot,It,Dt,Pt,sn,on,rn,Zt,Kt,qt,Jt,Ce,be,Qt,Wt,Xt,ye,J,ln,en,Yt,gn,Xe,bn,Sn,Cn,Ke],styles:[".box-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-between;border:2px dashed #1890ff;height:200px;border-radius:12px;margin-top:16px;padding:30px 0}.box-upload[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:40px}.box-upload[_ngcontent-%COMP%]   .wrap-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.box-upload[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:18px}.box-upload[_ngcontent-%COMP%]   .text-small[_ngcontent-%COMP%]{font-size:14px;margin-top:6px;display:inline-block}.box-upload[_ngcontent-%COMP%]   .button-upload[_ngcontent-%COMP%]{background-color:transparent;outline:none;border:1px solid #ccc;border-radius:4px;padding:6px 14px}.file-info[_ngcontent-%COMP%]{margin:auto;display:flex;align-items:center}.file-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:21px;font-weight:600}.file-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;margin-top:4px}.file-info[_ngcontent-%COMP%]   .icon-delete[_ngcontent-%COMP%]{font-size:40px;color:red;margin-left:12px;cursor:pointer}.icon-file[_ngcontent-%COMP%]{font-size:46px}.form-search-voice[_ngcontent-%COMP%]{display:flex}.control-search-voice[_ngcontent-%COMP%]{flex:1}.control-search-voice[_ngcontent-%COMP%] + .control-search-voice[_ngcontent-%COMP%]{margin-left:24px}.voices[_ngcontent-%COMP%]{height:420px;overflow-y:scroll}.voices[_ngcontent-%COMP%]   .voice[_ngcontent-%COMP%]{border:1px solid #40a9ff;padding:12px;display:flex;justify-content:space-between;align-items:center;border-radius:4px}.voices[_ngcontent-%COMP%]   .voice[_ngcontent-%COMP%] + .voice[_ngcontent-%COMP%]{margin-top:8px}.voices[_ngcontent-%COMP%]   .voice.active[_ngcontent-%COMP%]{border-color:red;color:#40a9ff}.voices[_ngcontent-%COMP%]   .voice.active[_ngcontent-%COMP%]   .voice-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#40a9ff}.voices[_ngcontent-%COMP%]   .voice-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:12px;line-height:1.2}.voices[_ngcontent-%COMP%]   .voice-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-bottom:4px}.voices[_ngcontent-%COMP%]   .voice-action-icon[_ngcontent-%COMP%]{font-size:24px;margin-left:12px;cursor:pointer}.voices[_ngcontent-%COMP%]   .voice-action-icon[_ngcontent-%COMP%]:hover{color:#40a9ff}.title[_ngcontent-%COMP%]{margin-top:32px;margin-bottom:6px;font-size:18px;font-weight:600}.wrap-table[_ngcontent-%COMP%]{margin-top:24px}.current-voice-selected[_ngcontent-%COMP%]{width:200px;display:flex;justify-content:space-between;border:1px solid #40a9ff;border-radius:4px;padding:6px 12px;cursor:pointer}.current-voice-selected[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600}.current-voice-selected[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.model-process[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background-color:#00000026}"]})};export{yn as SubtitleTranslationComponent};
